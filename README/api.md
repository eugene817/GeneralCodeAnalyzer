## Api

Здесь находятся 4 директории. 
Они очень плотно связаны между собой, потому что хэндлеры отправляют загруженные данными
шаблоны из папки `templates`, а в свою очередь к шаблонам подключены стили сгенерированные
`tailwindcss` из папки `static`


Пройдемся по порядку каждой из них:

### handlers/

#### `handlers.go`
Этот модуль определяет структуру `Handler` хранящую две переменные:
`svc` - структура сервисов нашего приложения
`db` - это интерфейс базы данных для взаимодействия с ней

Дальше функция создания новой инстанции этой структуры
`func NewHandler` возвращающая новый `Handler`


#### `health.go`
Это так называемый healthcheck приложения, функция
`HealthCheckHandler` обрабатывает запрос типа healthcheck, возвращая код 200, который
означает что приложение работает


#### `routes.go`
pass

#### `auth.go`
Это модуль отвечающий за аутентификацию пользователей, их логин и регистрацию и 
JWT токены

`func (h *Handler) Register` это функция отвечает за регистрацию пользователя, она 
расшифровывает из запроса логин и пароль пользователя, шифрует пароль с помощью `bcrypt`
и создает пользователя в базе данных. Дальше она перенаправляет пользоваетеля на страницу 
логина

`func (h *Handler) Login` эта функция занимается логикой логина пользователя, она расшифровывает из
запроса логин и пароль пользователя, дальше функция `Authenticate` - проверяет есть ли в базе данных такой
пользователь и если есть проверяет его пароль и пароль из запроса на сходство (естественно зашифрованные),
а потом создается `JWT токен` пользователя через функцию `CreateJWT` - которая просто создает токен, который и возвращает его.
Дальше функция `Login` устанавливает сессионные куки на jwt токен и перенаправляет пользователя на главную страницу

