import { CancellationToken } from "@codingame/monaco-vscode-api/vscode/vs/base/common/cancellation";
import { Event } from "@codingame/monaco-vscode-api/vscode/vs/base/common/event";
import { IDisposable } from "@codingame/monaco-vscode-api/vscode/vs/base/common/lifecycle";
import { URI } from "@codingame/monaco-vscode-api/vscode/vs/base/common/uri";
import { IActiveCodeEditor, ICodeEditor } from "@codingame/monaco-vscode-api/vscode/vs/editor/browser/editorBrowser";
import { Range } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/core/range";
import { IValidEditOperation } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/model";
import { IEditorWorkerService } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/services/editorWorker.service";
import { IModelService } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/services/model.service";
import { ITextModelService } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/services/resolverService.service";
import { IContextKeyService } from "@codingame/monaco-vscode-api/vscode/vs/platform/contextkey/common/contextkey.service";
import { IInstantiationService } from "@codingame/monaco-vscode-api/vscode/vs/platform/instantiation/common/instantiation";
import { ILogService } from "@codingame/monaco-vscode-api/vscode/vs/platform/log/common/log.service";
import { ITelemetryService } from "@codingame/monaco-vscode-api/vscode/vs/platform/telemetry/common/telemetry.service";
import { IChatAgentService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/contrib/chat/common/chatAgents.service";
import { IChatService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/contrib/chat/common/chatService.service";
import { IEditorService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/services/editor/common/editorService.service";
import { Session, StashedSession } from "./inlineChatSession.js";
import { IInlineChatSession2, IInlineChatSessionEndEvent, IInlineChatSessionEvent, ISessionKeyComputer } from "@codingame/monaco-vscode-api/vscode/vs/workbench/contrib/inlineChat/browser/inlineChatSessionService";
import { IInlineChatSessionService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/contrib/inlineChat/browser/inlineChatSessionService.service";
import { ILanguageService } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/languages/language.service";
import { ITextFileService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/services/textfile/common/textfiles.service";
import { IChatEditingService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/contrib/chat/common/chatEditingService.service";
export declare class InlineChatError extends Error {
    static readonly code = "InlineChatError";
    constructor(message: string);
}
export declare class InlineChatSessionServiceImpl implements IInlineChatSessionService {
    private readonly _telemetryService;
    private readonly _modelService;
    private readonly _textModelService;
    private readonly _editorWorkerService;
    private readonly _logService;
    private readonly _instaService;
    private readonly _editorService;
    private readonly _textFileService;
    private readonly _languageService;
    private readonly _chatService;
    private readonly _chatAgentService;
    private readonly _chatEditingService;
    _serviceBrand: undefined;
    private readonly _store;
    private readonly _onWillStartSession;
    readonly onWillStartSession: Event<IActiveCodeEditor>;
    private readonly _onDidMoveSession;
    readonly onDidMoveSession: Event<IInlineChatSessionEvent>;
    private readonly _onDidEndSession;
    readonly onDidEndSession: Event<IInlineChatSessionEndEvent>;
    private readonly _onDidStashSession;
    readonly onDidStashSession: Event<IInlineChatSessionEvent>;
    private readonly _sessions;
    private readonly _keyComputers;
    constructor(_telemetryService: ITelemetryService, _modelService: IModelService, _textModelService: ITextModelService, _editorWorkerService: IEditorWorkerService, _logService: ILogService, _instaService: IInstantiationService, _editorService: IEditorService, _textFileService: ITextFileService, _languageService: ILanguageService, _chatService: IChatService, _chatAgentService: IChatAgentService, _chatEditingService: IChatEditingService);
    dispose(): void;
    createSession(editor: IActiveCodeEditor, options: {
        headless?: boolean;
        wholeRange?: Range;
        session?: Session;
    }, token: CancellationToken): Promise<Session | undefined>;
    moveSession(session: Session, target: ICodeEditor): void;
    releaseSession(session: Session): void;
    private _releaseSession;
    stashSession(session: Session, editor: ICodeEditor, undoCancelEdits: IValidEditOperation[]): StashedSession;
    getCodeEditor(session: Session): ICodeEditor;
    getSession(editor: ICodeEditor, uri: URI): Session | undefined;
    private _key;
    registerSessionKeyComputer(scheme: string, value: ISessionKeyComputer): IDisposable;
    private readonly _sessions2;
    private readonly _onDidChangeSessions;
    readonly onDidChangeSessions: Event<this>;
    createSession2(editor: ICodeEditor, uri: URI, token: CancellationToken): Promise<IInlineChatSession2>;
    getSession2(uri: URI): IInlineChatSession2 | undefined;
}
export declare class InlineChatEnabler {
    static Id: string;
    private readonly _ctxHasProvider;
    private readonly _ctxHasProvider2;
    private readonly _ctxPossible;
    private readonly _store;
    constructor(contextKeyService: IContextKeyService, chatAgentService: IChatAgentService, editorService: IEditorService);
    dispose(): void;
}
