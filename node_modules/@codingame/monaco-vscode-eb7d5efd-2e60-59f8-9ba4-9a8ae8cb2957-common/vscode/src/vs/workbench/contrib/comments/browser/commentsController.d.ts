import { ICodeEditor, IEditorMouseEvent } from "@codingame/monaco-vscode-api/vscode/vs/editor/browser/editorBrowser";
import { ICodeEditorService } from "@codingame/monaco-vscode-api/vscode/vs/editor/browser/services/codeEditorService.service";
import { IRange, Range } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/core/range";
import { IEditorContribution } from "@codingame/monaco-vscode-api/vscode/vs/editor/common/editorCommon";
import * as languages from "@codingame/monaco-vscode-api/vscode/vs/editor/common/languages";
import { IContextMenuService } from "@codingame/monaco-vscode-api/vscode/vs/platform/contextview/browser/contextView.service";
import { IInstantiationService } from "@codingame/monaco-vscode-api/vscode/vs/platform/instantiation/common/instantiation";
import { IQuickInputService } from "@codingame/monaco-vscode-api/vscode/vs/platform/quickinput/common/quickInput.service";
import { ICommentService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/contrib/comments/browser/commentService.service";
import { CommentWidgetFocus, ReviewZoneWidget } from "./commentThreadZoneWidget.js";
import { IEditorService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/services/editor/common/editorService.service";
import { IViewsService } from "@codingame/monaco-vscode-api/vscode/vs/workbench/services/views/common/viewsService.service";
import { IConfigurationService } from "@codingame/monaco-vscode-api/vscode/vs/platform/configuration/common/configuration.service";
import { IContextKeyService } from "@codingame/monaco-vscode-api/vscode/vs/platform/contextkey/common/contextkey.service";
import { IKeybindingService } from "@codingame/monaco-vscode-api/vscode/vs/platform/keybinding/common/keybinding.service";
import { IAccessibilityService } from "@codingame/monaco-vscode-api/vscode/vs/platform/accessibility/common/accessibility.service";
import { IUriIdentityService } from "@codingame/monaco-vscode-api/vscode/vs/platform/uriIdentity/common/uriIdentity.service";
import { INotificationService } from "@codingame/monaco-vscode-api/vscode/vs/platform/notification/common/notification.service";
export declare const ID = "editor.contrib.review";
export declare function moveToNextCommentInThread(commentInfo: {
    thread: languages.CommentThread<IRange>;
    comment?: languages.Comment;
} | undefined, type: "next" | "previous"): {
    comment: languages.Comment;
    thread: languages.CommentThread<IRange>;
} | undefined;
export declare function revealCommentThread(commentService: ICommentService, editorService: IEditorService, uriIdentityService: IUriIdentityService, commentThread: languages.CommentThread<IRange>, comment: languages.Comment | undefined, focusReply?: boolean, pinned?: boolean, preserveFocus?: boolean, sideBySide?: boolean): void;
export declare class CommentController implements IEditorContribution {
    private readonly commentService;
    private readonly instantiationService;
    private readonly codeEditorService;
    private readonly contextMenuService;
    private readonly quickInputService;
    private readonly viewsService;
    private readonly configurationService;
    private readonly editorService;
    private readonly keybindingService;
    private readonly accessibilityService;
    private readonly notificationService;
    private readonly globalToDispose;
    private readonly localToDispose;
    private editor;
    private _commentWidgets;
    private _commentInfos;
    private _commentingRangeDecorator;
    private _commentThreadRangeDecorator;
    private mouseDownInfo;
    private _commentingRangeSpaceReserved;
    private _commentingRangeAmountReserved;
    private _computePromise;
    private _computeAndSetPromise;
    private _addInProgress;
    private _emptyThreadsToAddQueue;
    private _computeCommentingRangePromise;
    private _computeCommentingRangeScheduler;
    private _pendingNewCommentCache;
    private _pendingEditsCache;
    private _inProcessContinueOnComments;
    private _editorDisposables;
    private _activeCursorHasCommentingRange;
    private _activeCursorHasComment;
    private _activeEditorHasCommentingRange;
    private _hasRespondedToEditorChange;
    constructor(editor: ICodeEditor, commentService: ICommentService, instantiationService: IInstantiationService, codeEditorService: ICodeEditorService, contextMenuService: IContextMenuService, quickInputService: IQuickInputService, viewsService: IViewsService, configurationService: IConfigurationService, contextKeyService: IContextKeyService, editorService: IEditorService, keybindingService: IKeybindingService, accessibilityService: IAccessibilityService, notificationService: INotificationService);
    private registerEditorListeners;
    private clearEditorListeners;
    private onEditorMouseLeave;
    private onEditorMouseMove;
    private onEditorChangeCursorSelection;
    private onEditorChangeCursorPosition;
    private isEditorInlineOriginal;
    private beginCompute;
    private beginComputeCommentingRanges;
    static get(editor: ICodeEditor): CommentController | null;
    revealCommentThread(threadId: string, commentUniqueId: number | undefined, fetchOnceIfNotExist: boolean, focus: CommentWidgetFocus): void;
    collapseAll(): void;
    expandAll(): void;
    expandUnresolved(): void;
    nextCommentThread(focusThread: boolean): void;
    private _findNearestCommentThread;
    previousCommentThread(focusThread: boolean): void;
    private _findNearestCommentingRange;
    nextCommentingRange(): void;
    previousCommentingRange(): void;
    dispose(): void;
    private onWillChangeModel;
    private handleCommentAdded;
    onModelChanged(): void;
    private resumePendingComment;
    private beginComputeAndHandleEditorChange;
    private openCommentsView;
    private displayCommentThread;
    private onEditorMouseDown;
    private onEditorMouseUp;
    getCommentsAtLine(commentRange: Range | undefined): ReviewZoneWidget[];
    addOrToggleCommentAtLine(commentRange: Range | undefined, e: IEditorMouseEvent | undefined): Promise<void>;
    private processNextThreadToAdd;
    private clipUserRangeToCommentRange;
    addCommentAtLine(range: Range | undefined, e: IEditorMouseEvent | undefined): Promise<void>;
    private getCommentProvidersQuickPicks;
    private getContextMenuActions;
    addCommentAtLine2(range: Range | undefined, ownerId: string): void;
    private getExistingCommentEditorOptions;
    private getWithoutCommentsEditorOptions;
    private getWithCommentsLineDecorationWidth;
    private getWithCommentsEditorOptions;
    private updateEditorLayoutOptions;
    private ensureCommentingRangeReservedAmount;
    private tryUpdateReservedSpace;
    private setComments;
    collapseAndFocusRange(threadId: string): void;
    private removeCommentWidgetsAndStoreCache;
}
