{{ block "analytics" . }}
<main class="w-full max-w-4xl bg-white shadow-lg rounded-lg p-8">
  <h1 class="text-3xl font-bold text-center text-gray-800 mb-6">SQL Query Analysis</h1>

  <section class="mb-6">
    <h2 class="text-2xl font-semibold text-gray-700">Result:</h2>
    <pre class="bg-gray-50 text-gray-800 p-4 rounded-lg shadow-sm mt-2 overflow-auto">{{.Result}}</pre>
  </section>

  <section class="mb-6">
    <h2 class="text-2xl font-semibold text-gray-700">Analysis:</h2>
    <pre class="bg-gray-50 text-gray-800 p-4 rounded-lg shadow-sm mt-2 overflow-auto">{{.Analysis}}</pre>
  </section>

  <section class="mb-6">
    <h2 class="text-2xl font-semibold text-gray-700">Metrics:</h2>
    <ul class="bg-gray-50 p-4 rounded-lg shadow-sm mt-2">
      {{range $key, $value := .Metrics}}
      <li class="text-gray-700 mb-1"><strong>{{$key}}:</strong> {{$value}}</li>
      {{end}}
    </ul>
  </section>

  <section>
    <h2 class="text-2xl font-semibold text-gray-700">Recommendations:</h2>
    <ul class="bg-gray-50 p-4 rounded-lg shadow-sm mt-2">
      {{range .Recommendations}}
      <li class="text-gray-700 mb-1">{{.}}</li>
      {{end}}
    </ul>
  </section>
  

  <section class="mb-6">
    <h2 class="text-2xl font-semibold text-blue-600">LLM Answer:</h2>
    <pre class="bg-gray-800 text-white p-6 rounded-lg shadow-lg mt-4 overflow-auto border border-gray-700">
      {{.LLMAnswer}}
    </pre>
  </section>


  <div id="llmresp" class="flex justify-end">
    <button hx-get="/" hx-target="body" hx-indicator="#loader"
      class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded mt-6">Back</button>
    <!-- loader -->
  </div>
  <div id="loader" class="htmx-indicator font-bold text-2xl">Loading...</div>

</main>
{{ end }}

